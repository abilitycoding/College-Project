"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[568],{5568:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var n=s(2791),l=s(9085),o=(s(5462),s(7632),s(8112),s(5316)),a=s(3855),r=s(3360),c=s(8116),i=s(7022),d=s(9743),h=s(2677),m=s(9382),u=s(2591),x=s(5294),j=s(2229),p=s(9126),g=s(8820),f=s(4420),y=s(7689),b=s(5017);const N=e=>(localStorage.setItem("userEmail",JSON.stringify(e)),{type:b.b,payload:e}),v=e=>(localStorage.removeItem("userEmail",JSON.stringify(N)),{type:b.s,payload:e});var Z=s(184);function C(e){let{show:t,onHide:s,userData:c,dataRefresh:i}=e;const[d,h]=(0,n.useState)({name:"",phoneNumber:"",city:"",bloodType:""});console.log(c),(0,n.useEffect)((()=>{c&&h((e=>({...e,name:c.name||"",phoneNumber:c.phoneNumber||"",city:c.city||"",bloodType:c.bloodType||""})))}),[c]);const[m,u]=(0,n.useState)(!1),j=e=>{const{name:t,value:s}=e.target;h({...d,[t]:s})};return(0,Z.jsxs)(o.Z,{show:t,onHide:()=>{s(),h({name:c.name||"",bloodType:c.bloodType||"",phoneNumber:c.phoneNumber||"",city:c.city||""})},size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,Z.jsx)(o.Z.Header,{closeButton:!0,children:(0,Z.jsx)(o.Z.Title,{id:"contained-modal-title-vcenter",children:"Update User"})}),(0,Z.jsx)(o.Z.Body,{className:"d-flex flex-column justify-content-center align-items-center",children:(0,Z.jsxs)(a.Z,{className:"w-100",children:[(0,Z.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formName",children:[(0,Z.jsx)(a.Z.Control,{type:"text",name:"name",value:d.name,onChange:j,isInvalid:!d.name&&m,required:!0}),(0,Z.jsx)(a.Z.Control.Feedback,{type:"invalid",children:"Please enter Name."})]}),(0,Z.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formPhoneNumber",children:[(0,Z.jsx)(a.Z.Control,{type:"number",name:"phoneNumber",value:d.phoneNumber,onChange:j,isInvalid:!d.phoneNumber&&m,required:!0}),(0,Z.jsx)(a.Z.Control.Feedback,{type:"invalid",children:"Please enter Phone Number."})]}),(0,Z.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formName",children:[(0,Z.jsx)(a.Z.Control,{type:"text",name:"city",value:d.city,onChange:j,isInvalid:!d.city&&m,required:!0}),(0,Z.jsx)(a.Z.Control.Feedback,{type:"invalid",children:"Please enter City."})]}),(0,Z.jsxs)(a.Z.Group,{className:"mb-3",controlId:"formBloodType",children:[(0,Z.jsxs)(a.Z.Control,{as:"select",name:"bloodType",value:d.bloodType,onChange:j,isInvalid:!d.bloodType&&m,required:!0,children:[(0,Z.jsx)("option",{value:"",disabled:!0,children:"Choose Blood Type"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map((e=>(0,Z.jsx)("option",{value:e,children:e},e)))]}),(0,Z.jsx)(a.Z.Control.Feedback,{type:"invalid",children:"Please choose a blood type."})]}),(0,Z.jsx)("div",{className:"w-100 d-flex flex-column justify-content-center gap-3",children:(0,Z.jsx)(r.Z,{className:"newBatchBookButton pr-4 bg-blue-500 rounded-md text-white text-xl",onClick:()=>{(()=>{const{name:e,phoneNumber:t,city:s,bloodType:n}=d;return e&&n&&t&&s})()?x.Z.put("".concat("http://localhost:5000","/user-update/").concat(c._id),d).then((e=>{console.log(e.data.message),"User updated successfully"===e.data.message&&((0,l.Am)("User data updated successfully",{type:"success",autoClose:1500}),setTimeout((()=>{s(),i()}),1500))})).catch((()=>{console.log("An error occurred in Update User")})):((0,l.Am)("Please fill out all required fields.",{type:"error",autoClose:1500}),u(!0))},children:"Submit"})})]})})]})}const w=()=>{const e="http://localhost:5000";console.log("BACKEND_URL: ",e);const t=(0,y.s0)(),s=(0,f.I0)(),[o,b]=(0,n.useState)([]),[w,k]=(0,n.useState)(!0),[T,_]=(0,n.useState)(!1),[B,I]=(0,n.useState)(""),[S,A]=(0,n.useState)([]),[H,E]=(0,n.useState)(1),[P,M]=(0,n.useState)(10),U=(0,f.v9)((e=>e.userData.userEmail)),[V,z]=(0,n.useState)(!1),[G,L]=(0,n.useState)({userEmail:"",userPassword:""}),R=e=>{const{name:t,value:s}=e.target;L({...G,[t]:s})},F=e=>{M(e)};const q=function(e,t){let s;return function(){for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];clearTimeout(s),s=setTimeout((()=>{clearTimeout(s),e(...l)}),t)}}((e=>{const t=o.filter((t=>t.bloodType.toLowerCase().includes(e.toLowerCase())));A(t)}),500);const D=()=>{k(!0),x.Z.get("".concat(e,"/get-users")).then((e=>{b(e.data),A(e.data),k(!1)})).catch((e=>{k(!1)}))};(0,n.useEffect)((()=>{D()}),[]);if(w)return(0,Z.jsx)(j.Z,{});const O=P,J=H*O,W=J-O,K=S.slice(W,J),Q=Math.ceil(S.length/O);return(0,Z.jsx)("div",{className:"Admin_Container bg-dark vh-100 overflow-hidden","data-bs-theme":"dark",children:"admin@gmail.com"==U?(0,Z.jsxs)(i.Z,{className:"Admin_Main_Box  bg-dark pt-5 mt-5",children:[(0,Z.jsxs)(d.Z,{className:"Header_Box_Admin  bg-dark",children:[(0,Z.jsx)(h.Z,{sm:12,md:6,className:"d-flex justify-content-center align-items-center",children:(0,Z.jsx)(a.Z.Control,{type:"text",value:B,onChange:function(e){const t=e.target.value;I(t),q(t)},placeholder:"Search By Blood Group...",className:"rounded-1 mw-100"})}),(0,Z.jsxs)(h.Z,{sm:12,md:6,className:"Admin_Settings d-flex justify-content-end gap-3 align-items-center",children:[(0,Z.jsxs)(m.Z,{"data-bs-theme":"dark",children:[(0,Z.jsxs)(m.Z.Toggle,{id:"dropdown-button-dark-example1",variant:"secondary",className:"d-flex justify-content-center align-items-center",children:[(0,Z.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",height:"16px",width:"20px",xmlns:"http://www.w3.org/2000/svg",className:"mb-1 me-1",children:(0,Z.jsx)("path",{d:"M21.063 15L14.78 15 13 15 13 17 14.78 17 21.063 17 22 17 22 15zM4 7H15V9H4zM4 11H15V13H4zM4 15H11V17H4z"})}),P]}),(0,Z.jsxs)(m.Z.Menu,{children:[(0,Z.jsx)(m.Z.Item,{onClick:()=>F(10),active:10===P,children:"10"}),(0,Z.jsx)(m.Z.Item,{onClick:()=>F(25),active:25===P,children:"25"}),(0,Z.jsx)(m.Z.Item,{onClick:()=>F(50),active:50===P,children:"50"}),(0,Z.jsx)(m.Z.Item,{onClick:()=>F(100),active:100===P,children:"100"})]})]}),(0,Z.jsx)(r.Z,{onClick:D,children:(0,Z.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,Z.jsxs)("g",{fill:"#ffffff",children:[(0,Z.jsx)("path",{d:"M13,13c0-3.3,2.7-6,6-6h10c3.3,0,6,2.7,6,6h4c0-5.5-4.5-10-10-10H19C13.5,3,9,7.5,9,13v11.2h4V13z"}),(0,Z.jsx)("polygon",{points:"4.6,22 11,30.4 17.4,22"})]}),(0,Z.jsxs)("g",{fill:"#ffffff",children:[(0,Z.jsx)("path",{d:"M35,35c0,3.3-2.7,6-6,6H19c-3.3,0-6-2.7-6-6H9c0,5.5,4.5,10,10,10h10c5.5,0,10-4.5,10-10V23h-4V35z"}),(0,Z.jsx)("polygon",{points:"30.6,26 37,17.6 43.4,26"})]})]})}),(0,Z.jsx)(r.Z,{onClick:()=>{s(v),t("/")},children:"Logout"})]})]}),(0,Z.jsx)(d.Z,{children:(0,Z.jsx)("br",{})}),(0,Z.jsx)(d.Z,{className:"Body_Box_Admin",children:K.length>0&&(0,Z.jsx)("div",{className:"Table_Container",children:(0,Z.jsxs)(u.Z,{striped:!0,hover:!0,className:"Table_Content",children:[(0,Z.jsx)("thead",{className:"Table_Heading",children:(0,Z.jsxs)("tr",{className:"",children:[(0,Z.jsx)("th",{children:"#"}),(0,Z.jsx)("th",{children:"Name"}),(0,Z.jsx)("th",{children:"Blood Type"}),(0,Z.jsx)("th",{children:"Phone"}),(0,Z.jsx)("th",{children:"City"}),(0,Z.jsx)("th",{children:(0,Z.jsx)(p.eMk,{})}),(0,Z.jsx)("th",{children:(0,Z.jsx)(g.VPh,{})})]})}),(0,Z.jsx)("tbody",{className:"Table_body",children:K.map(((t,s)=>(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:s+1}),(0,Z.jsx)("td",{children:t.name}),(0,Z.jsx)("td",{children:t.bloodType}),(0,Z.jsx)("td",{children:t.phoneNumber}),(0,Z.jsx)("td",{children:t.city}),(0,Z.jsxs)("td",{children:[(0,Z.jsx)(p.eMk,{onClick:()=>_(t)}),(0,Z.jsx)(C,{show:!1!==T,onHide:()=>_(!1),userData:T,dataRefresh:D})]}),(0,Z.jsx)("td",{children:(0,Z.jsx)(g.VPh,{onClick:()=>{return s=t._id,void x.Z.delete("".concat(e,"/user-delete/").concat(s)).then((e=>{b((e=>e.filter((e=>e._id!==s)))),(0,l.Am)("User deleted successfully",{type:"success",autoClose:1500}),setTimeout((()=>{D()}),1500)})).catch((e=>{(0,l.Am)("Failed to delete user!",{type:"error",autoClose:1500})}));var s}})})]},t._id)))})]})})}),(0,Z.jsxs)(d.Z,{className:"Footer_Box_Admin",children:[(0,Z.jsx)(c.Z,{className:"d-flex justify-content-center align-items-center p-3 m-0",children:(()=>{let e=[];for(let t=1;t<=Q;t++)e.push((0,Z.jsx)(c.Z.Item,{active:t===H,onClick:()=>{E(t)},children:t},t));return e})()}),(0,Z.jsx)(l.Ix,{})]})]}):(0,Z.jsxs)(i.Z,{className:"Register_container vh-100 d-flex justify-content-center align-items-center",children:[(0,Z.jsx)(d.Z,{className:"Register_container_Row d-flex justify-content-center align-items-center",children:(0,Z.jsx)(h.Z,{className:"Register_container_Login_Col bg-white p-5 border rounded shadow d-flex flex-column justify-content-center align-items-center w-25",children:(0,Z.jsxs)(a.Z,{className:"bg-white","data-bs-theme":"light",children:[(0,Z.jsx)("div",{className:"d-flex justify-content-center pb-3",children:(0,Z.jsx)("img",{src:"./login.gif",className:"img-fluid",width:"150px",height:"150px"})}),(0,Z.jsx)(a.Z.Group,{className:"mb-3",controlId:"formEmail",children:(0,Z.jsx)(a.Z.Control,{type:"text",name:"userEmail",value:G.userEmail,onChange:R,placeholder:"Enter your Email"})}),(0,Z.jsx)(a.Z.Group,{className:"mb-3",controlId:"formPassword",children:(0,Z.jsxs)("div",{className:"input-group",children:[(0,Z.jsx)(a.Z.Control,{type:V?"text":"password",name:"userPassword",value:G.userPassword,onChange:R,placeholder:"Enter your Password"}),(0,Z.jsx)(r.Z,{variant:"outline-secondary",onClick:()=>{z(!V)},children:V?"Hide":"Show"})]})}),(0,Z.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,Z.jsx)(r.Z,{onClick:()=>{x.Z.post("".concat(e,"/login"),G).then((e=>{console.log(e.data.userEmail),s(N(e.data.userEmail))})).catch((e=>{console.log(e)}))},className:"bg-primary h-10 rounded-md text-white text-xl",children:"Login"}),(0,Z.jsx)(l.Ix,{})]})]})})}),(0,Z.jsx)(l.Ix,{})]})})}}}]);
//# sourceMappingURL=568.340a1265.chunk.js.map